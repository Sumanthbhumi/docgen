<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Resume Generator Form</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <style>
        /* Custom CSS for preview content */
        #preview_content {
            background-color: #f8f9fa; /* Background color */
            padding: 20px; /* Padding around the content */
            border-radius: 8px; /* Rounded corners */
            box-shadow: 0 4px 8px rgba(0,0,0,0.1); /* Subtle shadow effect */
            position: fixed; /* Make the preview section fixed */
            top: 50px; /* Distance from the top */
            right: 20px; /* Distance from the right */
            z-index: 1000; /* Ensure it's above other elements */
            width: 45%; /* Set a width for the preview section */
            overflow-y: auto; /* Add scroll bar when content exceeds height */
            max-height: calc(100vh - 50px); /* Limit height to viewport height minus header and footer */
        }

        /* Custom CSS for professional information */
        .professional-info {
            margin-top: 20px; /* Add some margin between personal and professional info */
        }

        .required::after {
            content: '*';
            color: red;
        }

        /* Improved Form Field Styling */
        .form-control {
            border: 1px solid #ced4da; /* Add border to form fields */
            border-radius: 4px; /* Rounded corners */
        }

        /* Inline Error Messages */
        .error-message {
            color: red;
            font-size: 0.8em;
        }

        /* Button Styling */
        .btn-primary {
            background-color: #007bff; /* Blue background color */
            color: #fff; /* White text color */
            border: none;
            padding: 10px 20px; /* Increase padding */
            font-size: 1em;
            border-radius: 4px;
            transition: background-color 0.3s ease; /* Smooth transition */
        }

        .btn-primary:hover {
            background-color: #0056b3; /* Darker blue on hover */
        }

        /* Typography */
        body {
            font-family: Arial, sans-serif; /* Choose a legible font */
            font-size: 16px;
            line-height: 1.6;
        }

        .education-section {
            /*padding: 0, 10px, 0, 10px;*/
            display: flex;
            flex-direction: column;
            margin-bottom: 20px;
        }


        /* Spacing between form fields */
        .form-group {
            margin-bottom: 20px;
        }
        .timer {
          display: flex;
          justify-content: space-between;
          margin-bottom: -2rem;
        }

        .timer select {
          border: 1px solid #ccc;
          background-color: #fff;
          font-size: 12px;
          outline: none;
          transition: border-color 0.3s ease;
        }

        .timer select:hover {
          border-color: #007bff;
        }

        .timer select:focus {
          border-color: #007bff;
          box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.25);
        }
    </style>
</head>
<body>
<h2 class="text-center my-2">Resume Generator Form</h2>
<form id="docForm" action="/generateDocx" method="post">
    <div class="container">
        <div class="row">
            <div class="col-md-6">
                <!-- Personal Information -->
                <h3>Personal Information</h3>

                <div class="form-group">
                    <label for="emailField">Email<span class="required"></span>:</label><br>
                    <input type="email" id="emailField" name="email" class="form-control" placeholder="Enter Here" required>
                    <div class="error-message" id="emailError"></div> <!-- Error message for email -->
                </div>
                <div class="form-group">
                    <label for="phoneNumberField">Phone Number<span class="required"></span>:</label><br>
                    <input type="tel" id="phoneNumberField" name="phoneNumber" class="form-control" placeholder="Enter Here (10 digits)" required>
                    <div class="error-message" id="phoneNumberError"></div> <!-- Error message for phone number -->
                </div>

                <div class="form-group">
                    <label for="nameField">Name<span class="required"></span>:</label><br>
                    <input type="text" id="nameField" name="name" class="form-control" placeholder="Enter Here" style="color: #000;" required>
                    <div class="error-message" id="nameError"></div> <!-- Error message for name -->
                </div>

                <div class="form-group">
                    <label for="linkedinField">LinkedIn<span class="required"></span>:</label><br>
                    <input type="text" id="linkedinField" name="linkedin" class="form-control" placeholder="Enter Here" required>
                    <div class="error-message" id="linkedinError"></div> <!-- Error message for LinkedIn -->
                </div>

                <!-- Preview section -->
                <div id="preview_content">
                    <h3 class="text-center my-2">Preview</h3>
                </div>
            </div>
        </div>
    </div>

    <!-- Professional Information -->
    <div class="professional-info container">
        <div class="row">
            <div class="col-md-6">
                <h3>Professional Information</h3>

                <div class="form-group">
                    <label for="summaryField">Summary:</label><br>
                    <textarea id="summaryField" name="summary" class="form-control" placeholder="Enter Here"></textarea><br>
                </div>

                <div class="form-group">
                    <label for="languagesField">Known Languages<span class="required"></span>:</label><br>
                    <textarea id="languagesField" name="languages" class="form-control" placeholder="Enter Here" required></textarea><br>
                </div>

                <div class="form-group">
                    <label for="technologiesField">Known Technologies<span class="required"></span>:</label><br>
                    <textarea id="technologiesField" name="technologies" class="form-control" placeholder="Enter Here" required></textarea><br>
                </div>
                <div class="education-section" name="educationSection">
                    <div class="timer">
                        <label for="educationField">Education<span class="required"></span>:</label><br>
                        <div class="form-group">
                            <label>Started:</label><br>
                            <div class="d-flex">
                                <select id="educationStartMonthField" name="education_start_month" class="form-control me-2" required>
                                    <option value="">Month</option>
                                    <option value="01">January</option>
                                    <option value="02">February</option>
                                    <option value="03">March</option>
                                    <option value="04">April</option>
                                    <option value="05">May</option>
                                    <option value="06">June</option>
                                    <option value="07">July</option>
                                    <option value="08">August</option>
                                    <option value="09">September</option>
                                    <option value="10">October</option>
                                    <option value="11">November</option>
                                    <option value="12">December</option>
                                </select>
                                <select id="educationStart" name="educationStart" class="form-control" required>
                                    <option value="">Year</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Ended:</label><br>
                            <div class="d-flex">
                                <select id="educationEndMonthField" name="education_end_month" class="form-control me-2" required>                                <option value="">Month</option>
                                    <option value="01">January</option>
                                    <option value="02">February</option>
                                    <option value="03">March</option>
                                    <option value="04">April</option>
                                    <option value="05">May</option>
                                    <option value="06">June</option>
                                    <option value="07">July</option>
                                    <option value="08">August</option>
                                    <option value="09">September</option>
                                    <option value="10">October</option>
                                    <option value="11">November</option>
                                    <option value="12">December</option>
                                </select>
                                <select id="educationEndYearField" name="education_end_year" class="form-control" required>
                                    <option value="">Year</option>
                                </select>
                            </div>
                        </div>

                    </div>
                    <div class="form-group">
                        <label for="educationField"></label><br>
                        <textarea id="educationField" name="education" class="form-control" placeholder="Highest Education" required></textarea>
                    </div>
                    <div class="timer">
                        <label for="educationField"></label><br>
                        <div class="d-flex">
                            <select id="educationStartMonthField2" name="education_start_month_2" class="form-control me-2" required>
                                <option value="">Month</option>
                                <option value="01">January</option>
                                <option value="02">February</option>
                                <option value="03">March</option>
                                <option value="04">April</option>
                                <option value="05">May</option>
                                <option value="06">June</option>
                                <option value="07">July</option>
                                <option value="08">August</option>
                                <option value="09">September</option>
                                <option value="10">October</option>
                                <option value="11">November</option>
                                <option value="12">December</option>
                            </select>
                            <select id="educationStart2" name="educationStart2" class="form-control me-2" required>
                                <option value="">Year</option>
                            </select>
                            <select id="educationEndMonthField2" name="education_end_month_2" class="form-control me-2" required>
                                <option value="">Month</option>
                                <option value="01">January</option>
                                <option value="02">February</option>
                                <option value="03">March</option>
                                <option value="04">April</option>
                                <option value="05">May</option>
                                <option value="06">June</option>
                                <option value="07">July</option>
                                <option value="08">August</option>
                                <option value="09">September</option>
                                <option value="10">October</option>
                                <option value="11">November</option>
                                <option value="12">December</option>
                            </select>
                            <select id="educationEndYearField2" name="education_end_year_2" class="form-control" required>
                                <option value="">Year</option>
                                <!-- Add year options here -->
                            </select>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="secondaryEducation"></label>
                    <textarea id="secondaryEducation" name="secondaryEducation" class="form-control" placeholder="Second Highest Education" required></textarea>
                </div>
                <hr>

                <div class="form-group">
                    <label for="softwareEngineerField">Software Engineer Experience<span class="required"></span>:</label><br>
                    <textarea id="softwareEngineerField" name="software_engineer" class="form-control" placeholder="Enter Here" required></textarea><br>
                </div>

                <div class="form-group">
                    <label for="internshipField">Internship Experience<span class="required"></span>:</label><br>
                    <textarea id="internshipField" name="internship" class="form-control" placeholder="Enter Here" required></textarea><br>
                </div>

                <div class="form-group">
                    <label for="finalYearProjectField">Final Year Project<span class="required"></span>:</label><br>
                    <textarea id="finalYearProjectField" name="final_year_project" class="form-control" placeholder="Enter Here" required></textarea><br>
                </div>

                <div class="form-group">
                    <label for="personalProjectField">Personal Project<span class="required"></span>:</label><br>
                    <textarea id="personalProjectField" name="personal_project" class="form-control" placeholder="Enter Here" required></textarea><br>
                </div>

                <div class="form-group">
                    <label for="achievementsField">Achievements<span class="required"></span>:</label><br>
                    <textarea id="achievementsField" name="achievements" class="form-control" placeholder="Enter Here" required></textarea><br>
                </div>
                <div class="container text-center mt-3">
                    <input type="submit" value="Download CV" class="btn btn-primary btn-lg">
                </div>
            </div>
        </div>
    </div>
</form>

<script>
    document.getElementById("docForm").addEventListener("submit", function(event) {
        var email = document.getElementById("emailField").value;
        var emailError = document.getElementById("emailError");
        var phoneNumber = document.getElementById("phoneNumberField").value;

        var validDomains = ["gmail.com", "outlook.com", "yahoo.com", "rediff.com", "inbox.com", "icloud.com", "mail.com", "email.com"];
        var valid = validDomains.some(function(domain) {
            return email.endsWith("@" + domain);
        });

        // Reset previous error messages
        emailError.textContent = "";
        document.getElementById("phoneNumberError").textContent = "";

        if (!valid) {
            emailError.textContent = "Please enter a valid email address";
            event.preventDefault();
            // Scroll to email field
            document.getElementById("emailField").scrollIntoView({ behavior: 'smooth', block: 'center' });
            // Focus on email field
            document.getElementById("emailField").focus();
        }

        if (phoneNumber.length !== 10 || isNaN(phoneNumber)) {
            document.getElementById("phoneNumberError").textContent = "Please enter a valid 10-digit phone number.";
            event.preventDefault();
            // Scroll to phone number field
            document.getElementById("phoneNumberField").scrollIntoView({ behavior: 'smooth', block: 'center' });
            // Focus on phone number field
            document.getElementById("phoneNumberField").focus();
        }
    });
</script>

<script src="js/script.js"></script>
</body>
</html>